# self 이해하기

- 클래스 내에 정의된 함수인 메서드는 항상 self를 첫 번째 인자로 받는다.
- 하지만 self를 첫번째 인자로 하지 않아도 함수 선언은 할 수 있다.
```python
class Foo:
        def func1():
                print("function 1")
        def func2(self):
                print("function 2")
```
- 이렇게 하고 func2를 부르면 작동하지만 func1을 부르면 오류가 난다. 오류 메시지를 보면 “func1()은 인자가 없지만 하나를 받았다”라고 나온다. 파이썬 메서드의 첫 번째 인자로 항상 인스턴스가 전달되기 때문에 발생되는 문제다.


- 파이썬 내장 함수인 id를 이용해서 인스턴스 메모리에 할당된 주소값을 확인해 보자.
```python
class Foo:
        def func1():
                print("function 1")

        def func2(self):
                print(id(self))
                print("function 2")
```
```python
f = Foo()
id(f)
# 43219856
```
- 생성된 인스턴스가 메모리의 43219856번지에 있음을 알 수 있다.
- 이는 인스턴스 f를 이용해서 func2 메서드를 출력했을 때도 같은 값을 출력한다. Foo 클래스를 정의할 때 id(self)를 출력하게 했는데 이 값이 바로 43219856 인 것이다. 즉 클래스 내의 정의된 self는 클래스 인스턴스임을 알 수 있다.

- 파이썬 클래스는 그 자체가 하나의 네임스페이스이기 때문에 인스턴스 생성과 상관없이 클래서 내의 메서드를 직접 호출할 수 있다.
```python
Foo.func1()
# function 1
```
- 위 코드는 func1을 호출했지만 앞서 인스턴스를 통해서 호출 때랑 달리 오류가 발생하지 않는 것을 볼 수 있다. 이번에는 인스턴스.메서드()가 아닌 클래스명.메서드() 형태로 호출했기 때문이다. 반대로 클래스 이름을 통해 func2 메서드를 호출하려고 하면 self 위치에 인자를 전달해야 한다고 인터프리터가 알려준다.

- 인스턴스를 통해 func2를 호출하는 것과 클래스 이름을 통해 func2를 호출하는 것은 어떤 차이가 있을까? 결론적으로 둘 사이에는 아무런 차이가 없다. 인스턴스.메서드()냐 클래스.메서드(인스턴스)냐 라는 차이가 있을 뿐이다. 보통은 인스턴스.메서드() 방식을 주로 사용한다.
